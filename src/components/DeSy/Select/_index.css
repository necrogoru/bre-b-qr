@reference "tailwindcss";

.desy-select {
  @apply relative w-full;

  &__label {
    @apply block mb-2 font-medium text-gray-700;
    font-size: var(--text-14);
  }

  &__wrapper {
    @apply relative;
  }

  &__native {
    @apply w-full px-4 py-3 bg-white border border-gray-300 rounded-lg cursor-pointer transition-all duration-200 appearance-none;
    font-size: var(--text-14);
    min-height: 44px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%239CA3AF' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 1rem center;
    padding-right: 3rem;

    &:hover:not(:disabled) {
      @apply border-gray-400;
    }

    &:focus {
      @apply border-blue-500 ring-2 ring-blue-200 outline-none;
    }

    &:disabled {
      @apply bg-gray-100 cursor-not-allowed opacity-60;
    }

    &[multiple] {
      background-image: none;
      padding-right: 1rem;
      min-height: 120px;
    }

    option {
      @apply py-2;

      &:disabled {
        @apply text-gray-400;
      }

      &:checked {
        @apply bg-blue-50 text-blue-600;
      }
    }
  }

  &__clear {
    @apply absolute right-10 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors z-10;
    font-size: var(--text-20);
    line-height: 1;
    padding: 0;
    background: none;
    border: none;
    cursor: pointer;
  }

  &__error {
    @apply block mt-2 text-red-600;
    font-size: var(--text-12);
  }

  &--error &__native {
    @apply border-red-500;

    &:hover {
      @apply border-red-600;
    }

    &:focus {
      @apply ring-red-200;
    }
  }
}

/* Dark mode support */
@media (prefers-color-scheme: dark) {
  .desy-select {
    &__label {
      @apply text-gray-300;
    }

    &__native {
      @apply bg-gray-800 border-gray-600 text-white;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%239CA3AF' d='M6 9L1 4h10z'/%3E%3C/svg%3E");

      &:hover:not(:disabled) {
        @apply border-gray-500;
      }

      &:disabled {
        @apply bg-gray-900;
      }

      option:checked {
        @apply bg-blue-900 text-blue-300;
      }
    }
  }
}
